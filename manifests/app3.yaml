apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: ad54321-helm-test
  namespace: argocd
  finalizers:
    - resources-finalizer.argocd.argoproj.io
spec:
  project: ad54321
  syncPolicy:
    automated: 
      prune: true
      selfHeal: true
  source:
    chart: dotnet-template
    repoURL: oci://lab-registry.wwtlab.net/helm-charts/dotnet-template
    targetRevision: 0.1.0
    helm:
      releaseName: dotnet-template
      parameters:
        - name: virtualService.enabled
          value: "true"
  destination:
    server: "https://kubernetes.default.svc"
    namespace: ad54321